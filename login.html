<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login | AI SolarTech Labs</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
  body { font-family: 'Inter', sans-serif; background-color: #0d1117; color: #c9d1d9; }
  .solar-gradient { background-image: linear-gradient(to right, #f59e0b, #eab308); }
  .card { background-color: #161b22; border: 1px solid #30363d; border-radius: 1rem; padding: 2rem; box-shadow: 0 8px 20px rgba(0,0,0,0.5); max-width: 400px; margin: auto; margin-top: 8vh;}
  .btn { width: 100%; padding: 0.75rem 1rem; margin-top: 1rem; border-radius: 0.5rem; font-weight: 600; color: #0d1117; background-image: linear-gradient(to right, #f59e0b, #eab308); transition: 0.3s; }
  .btn:hover { opacity: 0.9; }
  .input-field { width: 100%; padding: 0.75rem; margin-top: 0.5rem; border-radius: 0.5rem; border: 1px solid #30363d; background-color: #161b22; color: #c9d1d9; }
</style>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "YOUR_FIREBASE_API_KEY",
    authDomain: "YOUR_FIREBASE_PROJECT.firebaseapp.com",
    projectId: "YOUR_FIREBASE_PROJECT_ID",
    storageBucket: "YOUR_FIREBASE_PROJECT.appspot.com",
    messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  window.signInUser = async () => { 
    try { 
      await signInWithPopup(auth, provider); 
    } catch(err){ 
      console.error(err); 
      alert("Google Sign-in failed."); 
    }
  };

  window.signOutUser = async () => { 
    try { 
      await signOut(auth); 
    } catch(err){ 
      console.error(err); 
      alert("Sign-out failed."); 
    }
  };

  auth.onAuthStateChanged(user => {
    const authUI = document.getElementById("auth-ui");
    if(user){
      authUI.innerHTML = `<div class="text-center">
        <img src="${user.photoURL}" class="w-16 h-16 rounded-full mx-auto mb-2 border border-gray-500">
        <p class="text-white font-medium mb-2">${user.displayName}</p>
        <button onclick="signOutUser()" class="btn">Sign Out</button>
      </div>`;
    } else {
      authUI.innerHTML = `
        <form id="login-form">
          <h2 class="text-2xl font-bold text-white mb-4 text-center">Login</h2>
          <input type="email" placeholder="Email" id="email" class="input-field" required>
          <input type="password" placeholder="Password" id="password" class="input-field" required>
          <button type="submit" class="btn">Login</button>
        </form>
        <div class="text-center mt-4">
          <p class="text-gray-400 mb-2">OR</p>
          <button onclick="signInUser()" class="btn">Sign In with Google</button>
        </div>
      `;

      const form = document.getElementById('login-form');
      form.addEventListener('submit', e => {
        e.preventDefault();
        alert('This is a mock form. Firebase email/password login not implemented yet.');
      });
    }
  });
</script>
</head>
<body>
<header class="bg-gray-900/50 backdrop-blur-sm sticky top-0 z-50 shadow-lg border-b border-gray-700">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
    <h1 class="text-2xl font-extrabold text-white">
      <a href="index.html" class="solar-gradient bg-clip-text text-transparent">AI SolarTech</a> Labs
    </h1>
    <nav class="hidden md:flex space-x-6">
      <a href="index.html" class="hover:text-amber-400 font-semibold text-white">Home</a>
      <a href="detection.html" class="hover:text-amber-400">Detection</a>
      <a href="design.html" class="hover:text-amber-400">Design Assist</a>
      <a href="installation.html" class="hover:text-amber-400">Installation</a>
      <a href="repair.html" class="hover:text-amber-400">Repair</a>
      <a href="login.html" class="hover:text-amber-400 font-semibold">Login</a>
    </nav>
  </div>
</header>

<section class="py-16">
  <div class="card" id="auth-ui">
    <div class="text-center text-gray-400">Loading...</div>
  </div>
</section>
<script>lucide.createIcons();</script>
</body>
</html>
